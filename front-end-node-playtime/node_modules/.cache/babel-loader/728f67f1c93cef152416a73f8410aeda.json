{"ast":null,"code":"import _regeneratorRuntime from \"/Users/emitdutcher/Desktop/node-playtime/front-end-node-playtime/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/emitdutcher/Desktop/node-playtime/front-end-node-playtime/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useEffect } from 'react';\nimport socketIOClient from 'socket.io-client';\nimport { baseURL } from '../global';\nvar socket = socketIOClient(baseURL, {\n  rejectUnauthorized: false\n});\nexport var userSocketConnect = function userSocketConnect(setUsers) {\n  return useEffect(\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            socket.emit('usersSocket', function (users) {\n              console.log('getting Initial Users!', users);\n              setUsers(users);\n            });\n            socket.on('usersSocket', function (users) {\n              console.log('got the users!', users);\n              setUsers(users);\n            });\n            socket.on('connect_error', function (err) {\n              console.error('API Error:', err);\n              socket.disconnect();\n            });\n            return _context.abrupt(\"return\", function () {\n              return socket.disconnect();\n            });\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  })), []);\n};\nexport var reqUser =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(user) {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return socket.emit('reqUser', user);\n\n          case 2:\n            res = _context2.sent;\n            console.log('user from the other side', res);\n            return _context2.abrupt(\"return\", res);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function reqUser(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var getUser = function getUser(setUser) {\n  useEffect(\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            socket.on('getUser', function (user) {\n              console.log('heard getUser on Client!', user);\n              setUser(user);\n            });\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  })), []);\n};\nexport var postNewUser = function postNewUser(user) {\n  socket.emit('postNewUser', user);\n};\nexport default userSocketConnect;","map":{"version":3,"sources":["/Users/emitdutcher/Desktop/node-playtime/front-end-node-playtime/src/sockets/userSocketConnect.js"],"names":["useEffect","socketIOClient","baseURL","socket","rejectUnauthorized","userSocketConnect","setUsers","emit","users","console","log","on","err","error","disconnect","reqUser","user","res","getUser","setUser","postNewUser"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,OAAT,QAAwB,WAAxB;AAEA,IAAMC,MAAM,GAAGF,cAAc,CAACC,OAAD,EAAU;AACrCE,EAAAA,kBAAkB,EAAE;AADiB,CAAV,CAA7B;AAIA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,QAAQ;AAAA,SACvCN,SAAS;AAAA;AAAA;AAAA;AAAA,2BAAC;AAAA;AAAA;AAAA;AAAA;AACRG,YAAAA,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2B,UAAAC,KAAK,EAAI;AAClCC,cAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,KAAtC;AACAF,cAAAA,QAAQ,CAACE,KAAD,CAAR;AACD,aAHD;AAIAL,YAAAA,MAAM,CAACQ,EAAP,CAAU,aAAV,EAAyB,UAAAH,KAAK,EAAI;AAChCC,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,KAA9B;AACAF,cAAAA,QAAQ,CAACE,KAAD,CAAR;AACD,aAHD;AAIAL,YAAAA,MAAM,CAACQ,EAAP,CAAU,eAAV,EAA2B,UAAAC,GAAG,EAAI;AAChCH,cAAAA,OAAO,CAACI,KAAR,CAAc,YAAd,EAA4BD,GAA5B;AACAT,cAAAA,MAAM,CAACW,UAAP;AACD,aAHD;AATQ,6CAcD;AAAA,qBAAMX,MAAM,CAACW,UAAP,EAAN;AAAA,aAdC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAeN,EAfM,CAD8B;AAAA,CAAlC;AAkBP,OAAO,IAAMC,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACHb,MAAM,CAACI,IAAP,CAAY,SAAZ,EAAuBS,IAAvB,CADG;;AAAA;AACfC,YAAAA,GADe;AAErBR,YAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCO,GAAxC;AAFqB,8CAGdA,GAHc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPF,OAAO;AAAA;AAAA;AAAA,GAAb;AAMP,OAAO,IAAMG,OAAO,GAAG,SAAVA,OAAU,CAAAC,OAAO,EAAI;AAChCnB,EAAAA,SAAS;AAAA;AAAA;AAAA;AAAA,2BAAC;AAAA;AAAA;AAAA;AAAA;AACRG,YAAAA,MAAM,CAACQ,EAAP,CAAU,SAAV,EAAqB,UAAAK,IAAI,EAAI;AAC3BP,cAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCM,IAAxC;AACAG,cAAAA,OAAO,CAACH,IAAD,CAAP;AACD,aAHD;;AADQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAKN,EALM,CAAT;AAMD,CAPM;AASP,OAAO,IAAMI,WAAW,GAAG,SAAdA,WAAc,CAAAJ,IAAI,EAAI;AACjCb,EAAAA,MAAM,CAACI,IAAP,CAAY,aAAZ,EAA2BS,IAA3B;AACD,CAFM;AAIP,eAAeX,iBAAf","sourcesContent":["import { useEffect } from 'react';\nimport socketIOClient from 'socket.io-client';\nimport { baseURL } from '../global';\n\nconst socket = socketIOClient(baseURL, {\n  rejectUnauthorized: false\n});\n\nexport const userSocketConnect = setUsers =>\n  useEffect(async () => {\n    socket.emit('usersSocket', users => {\n      console.log('getting Initial Users!', users);\n      setUsers(users);\n    });\n    socket.on('usersSocket', users => {\n      console.log('got the users!', users);\n      setUsers(users);\n    });\n    socket.on('connect_error', err => {\n      console.error('API Error:', err);\n      socket.disconnect();\n    });\n\n    return () => socket.disconnect();\n  }, []);\n\nexport const reqUser = async user => {\n  const res = await socket.emit('reqUser', user);\n  console.log('user from the other side', res);\n  return res;\n};\n\nexport const getUser = setUser => {\n  useEffect(async () => {\n    socket.on('getUser', user => {\n      console.log('heard getUser on Client!', user);\n      setUser(user);\n    });\n  }, []);\n};\n\nexport const postNewUser = user => {\n  socket.emit('postNewUser', user);\n};\n\nexport default userSocketConnect;\n"]},"metadata":{},"sourceType":"module"}